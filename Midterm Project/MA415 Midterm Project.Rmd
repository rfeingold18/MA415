---
title: "MA415 Midterm Project"
author: "Rachel Feingold"
date: "3/7/2017"
output: pdf_document
---
Instructions:

Prepare the OSHA data and create a dataset for analysis.
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
Libraries Needed:
```{r}
require(foreign)
require(dplyr)
require(tidyr)
require(ggplot2)
require(lubridate)
require(stringr)
require(magrittr)
require(data.table)
```
Reading Data:

I only read the data that was neccessary to the analysis of the most dangerous places to work in Massachusetts.
```{r}
osha <- read.dbf("osha.dbf")
accidents <- read.dbf("accid.dbf")
violations <- read.dbf("viol.dbf")
# hazsub <- read.dbf("hazsub.dbf")
# history <- read.dbf("history.dbf")
# admpay <- read.dbf("admpay.dbf")

```

Cleaning Data

1. First, I cleaned the OSHA table. I am starting with this one because it is the main table and it has the company names, address, date of inspection, and other descriptive information about the companies.

2. Then, I selected the variables (columns) I deemed most important to the analysis and I discarded the rest. 
```{r} 
tidyosha <- osha[-c(1:4, 9:11, 14:15, 17, 19:20, 22:24, 27:33, 35:59, 61:63, 68:77, 80:92) ]
rm(osha)
```
3. Next, I cleaned the data from the accidents table. 
```{r}
tidyaccid <- accidents[-c(2:5,8,13,15:16)]
rm(accidents)
```
4. Next, I cleaned the violations table. 
```{r}
tidyviol <- violations[-c(2:7, 11, 13:15, 17, 19:48)]
rm(violations)
```

Organizing Data 
